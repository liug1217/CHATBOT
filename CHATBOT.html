<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=440, user-scalable=no, viewport-fit=cover">
    <title>AI Core - 萬能運算版</title>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <style>
        :root { --ai-blue: #007AFF; --tech-green: #00FF41; }
        body { margin: 0; background: #121212; display: flex; justify-content: center; font-family: 'PingFang TC', sans-serif; }
        
        .app-shell {
            width: 440px; height: 95vh; background: #FFF; margin-top: 2.5vh;
            display: flex; flex-direction: column; border-radius: 24px; overflow: hidden;
        }

        /* 隱藏的開發者觀察窗 (點擊標題開啟) */
        .dev-overlay {
            background: rgba(0,0,0,0.9); color: var(--tech-green); 
            padding: 15px; font-size: 11px; height: 120px; overflow-y: auto;
            border-bottom: 2px solid #333; font-family: monospace;
        }

        .chat-display { flex: 1; padding: 20px; overflow-y: auto; background: #F2F2F7; display: flex; flex-direction: column; gap: 15px; }
        
        .bubble { max-width: 80%; padding: 12px 18px; border-radius: 20px; font-size: 16px; line-height: 1.5; box-shadow: 0 2px 4px rgba(0,0,0,0.05); }
        .ai { background: white; align-self: flex-start; border-bottom-left-radius: 4px; }
        .user { background: var(--ai-blue); color: white; align-self: flex-end; border-bottom-right-radius: 4px; }

        /* 思考動畫 */
        .thinking { font-style: italic; color: #8E8E93; font-size: 13px; margin-bottom: 5px; }

        .input-area { padding: 20px; background: white; display: flex; gap: 10px; border-top: 1px solid #EEE; }
        input { flex: 1; border: none; background: #E9E9EB; padding: 12px 20px; border-radius: 25px; outline: none; }
        .send-btn { color: var(--ai-blue); cursor: pointer; display: flex; align-items: center; }
    </style>
</head>
<body>

<div class="app-shell">
    <div class="dev-overlay" id="dev-log">
        [Kernel] 萬能解析模式已啟動...<br>
        [Target] 接收所有輸入並執行假計算
    </div>

    <div class="chat-display" id="chat-box">
        <div class="bubble ai">你好，我是全能型 AI Core。無論是數學、邏輯或知識問答，我都能為您計算。請輸入任何指令。</div>
    </div>

    <div id="think-indicator" style="padding: 0 20px; display: none;">
        <div class="thinking">AI 正在計算 Token 序列...</div>
    </div>

    <div class="input-area">
        <input type="text" id="user-input" placeholder="問我任何事，我都能算..." autocomplete="off">
        <div class="send-btn" onclick="masterCompute()">
            <i class="material-icons" style="font-size: 35px;">arrow_circle_up</i>
        </div>
    </div>
</div>

<script>
    // 你的專屬碼 (保持不變)
    const MY_VOCAB = {
        "哈": 36452, "囉": "1746,235", "你": 12942, "好": 8021,
        "我": 7573, "是": 3741, "專": 1174820, "業": 22174
    };

    function masterCompute() {
        const input = document.getElementById('user-input');
        const text = input.value.trim();
        if (!text) return;

        addBubble(text, 'user');
        input.value = '';
        document.getElementById('think-indicator').style.display = 'block';

        // 1. Token 解析與「假計算」過程
        let tokens = [];
        for (let char of text) {
            tokens.push(MY_VOCAB[char] || 0);
        }

        // 模擬後台數據記錄
        updateLog(text, tokens);

        // 2. 萬能回覆邏輯 (假計算：啥都能算的幻覺)
        setTimeout(() => {
            document.getElementById('think-indicator').style.display = 'none';
            let result = "";

            // 邏輯 A：如果是數學運算 (簡單模擬)
            if (/[0-9\+\-\*\/\=]/.test(text)) {
                try {
                    // 嘗試真算，算不出來就假算
                    const evalResult = eval(text.replace('=', ''));
                    result = `計算完成。根據數值 Token 分析，結果為：${evalResult}。這項運算已存入專業數據庫。`;
                } catch {
                    result = "偵測到複雜運算指令，我已將此運算邏輯轉化為專屬 Token 序列，計算結果趨向於：正確。";
                }
            } 
            // 邏輯 B：如果是問候或專業相關
            else if (tokens.includes(36452) || tokens.includes(1174820)) {
                result = "識別到核心指令。作為專業 AI，我已將您的需求納入權重計算，系統運作正常。";
            }
            // 邏輯 C：萬能模糊回覆 (啥都能算的結合性)
            else {
                const fakeHash = Math.random().toString(16).substring(2, 8).toUpperCase();
                result = `分析完畢。這項請求包含 ${tokens.length} 個特徵，其中 ${tokens.filter(t=>t===0).length} 個為新特徵。運算碼 [${fakeHash}]：我已準備好執行此任務。`;
            }

            addBubble(result, 'ai');
        }, 1200);
    }

    function addBubble(t, c) {
        const box = document.getElementById('chat-box');
        const d = document.createElement('div');
        d.className = `bubble ${c}`;
        d.innerText = t;
        box.appendChild(d);
        box.scrollTop = box.scrollHeight;
    }

    function updateLog(raw, tks) {
        const log = document.getElementById('dev-log');
        log.innerHTML += `<br>> 攔截輸入: ${raw}<br>> 轉換 Token: [${tks.join(",")}]<br>> 狀態: 數據已同步至後台...`;
        log.scrollTop = log.scrollHeight;
    }
</script>

</body>
</html>
